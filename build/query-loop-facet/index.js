(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,s=window.ReactJSXRuntime,c=({type:e,attribute:a,label:t})=>(0,s.jsxs)("div",{className:"meiliscout-facet",children:[t&&(0,s.jsx)("label",{className:"facet-label",children:t}),(0,s.jsx)("div",{className:"facet-content",children:(()=>{switch(e){case"checkbox":return(0,s.jsx)("div",{className:"facet-checkbox-items",children:(0,s.jsxs)("div",{className:"facet-checkbox-wrapper",children:[(0,s.jsx)("div",{className:"facet-checkbox-container",children:(0,s.jsxs)("div",{className:"facet-checkbox-group",children:[(0,s.jsx)("input",{type:"checkbox",className:"facet-checkbox",checked:!0,readOnly:!0}),(0,s.jsxs)("svg",{className:"facet-checkbox-icon",viewBox:"0 0 14 14",fill:"none",children:[(0,s.jsx)("path",{className:"check-path",d:"M3 8L6 11L11 3.5"}),(0,s.jsx)("path",{className:"indeterminate-path",d:"M3 7H11"})]})]})}),(0,s.jsxs)("label",{className:"facet-checkbox-label",children:["Example ",a]})]})});case"radio":return(0,s.jsx)("div",{className:"facet-radio-items",children:(0,s.jsxs)("div",{className:"facet-radio-wrapper",children:[(0,s.jsx)("div",{className:"facet-radio-input-container",children:(0,s.jsx)("input",{type:"radio",className:"facet-radio-input",checked:!0,readOnly:!0})}),(0,s.jsxs)("div",{className:"facet-radio-content",children:[(0,s.jsxs)("label",{className:"facet-radio-label",children:["Example ",a]}),(0,s.jsx)("span",{className:"facet-radio-count",children:"(5)"})]})]})});case"select":return(0,s.jsxs)("div",{className:"facet-select-wrapper",children:[(0,s.jsx)("select",{className:"facet-select-input",children:(0,s.jsxs)("option",{children:["Example ",a]})}),(0,s.jsx)("svg",{className:"facet-select-icon",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]});case"range":return(0,s.jsx)("div",{className:"facet-range-wrapper",children:(0,s.jsxs)("div",{className:"facet-range-inputs",children:[(0,s.jsxs)("div",{className:"facet-range-input-group",children:[(0,s.jsx)("label",{className:"facet-range-label",children:"Min"}),(0,s.jsx)("input",{type:"number",className:"facet-range-input",placeholder:"0"})]}),(0,s.jsx)("div",{className:"facet-range-separator",children:"to"}),(0,s.jsxs)("div",{className:"facet-range-input-group",children:[(0,s.jsx)("label",{className:"facet-range-label",children:"Max"}),(0,s.jsx)("input",{type:"number",className:"facet-range-input",placeholder:"100"})]})]})});case"button":return(0,s.jsx)("div",{className:"facet-button-wrapper",children:(0,s.jsx)("div",{className:"facet-button-container",children:(0,s.jsx)("div",{className:"facet-button-list",children:(0,s.jsxs)("span",{className:"facet-button-item",children:[(0,s.jsxs)("span",{children:["Example ",a]}),(0,s.jsxs)("button",{type:"button",className:"facet-button-remove",children:[(0,s.jsx)("span",{className:"sr-only",children:"Remove filter for Example"}),(0,s.jsx)("svg",{className:"facet-button-icon",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]})})})});default:return(0,s.jsx)("div",{children:"Unknown facet type"})}})()})]});(0,e.registerBlockType)("meiliscout/query-loop-facet",{category:"widgets",icon:"filter",edit:({attributes:e,setAttributes:i})=>{const{facetType:n,facetAttribute:r,label:o,filterType:d,targetQueryId:u,showEmptyValues:h}=e,m=(0,t.useBlockProps)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.InspectorControls,{children:(0,s.jsxs)(l.PanelBody,{title:(0,a.__)("Facet Settings","meiliscout"),children:[(0,s.jsx)(l.TextControl,{label:(0,a.__)("Target Query ID","meiliscout"),value:u,onChange:e=>i({targetQueryId:e}),help:(0,a.__)("Enter the ID of the Query Loop block to filter","meiliscout")}),(0,s.jsx)(l.SelectControl,{label:(0,a.__)("Facet Type","meiliscout"),value:n,options:[{label:(0,a.__)("Checkbox","meiliscout"),value:"checkbox"},{label:(0,a.__)("Radio","meiliscout"),value:"radio"},{label:(0,a.__)("Select","meiliscout"),value:"select"},{label:(0,a.__)("Button","meiliscout"),value:"button"},{label:(0,a.__)("Range","meiliscout"),value:"range"}],onChange:e=>i({facetType:e})}),(0,s.jsx)(l.TextControl,{label:(0,a.__)("Facet Attribute","meiliscout"),value:r,onChange:e=>i({facetAttribute:e}),help:(0,a.__)("Enter the taxonomy or meta field to filter by","meiliscout")}),(0,s.jsx)(l.SelectControl,{label:(0,a.__)("Filter Type","meiliscout"),value:d,options:[{label:(0,a.__)("Taxonomy","meiliscout"),value:"taxonomy"},{label:(0,a.__)("Meta","meiliscout"),value:"meta"}],onChange:e=>i({filterType:e})}),(0,s.jsx)(l.TextControl,{label:(0,a.__)("Label","meiliscout"),value:o,onChange:e=>i({label:e}),help:(0,a.__)("Enter a label for this facet","meiliscout")}),(0,s.jsx)(l.ToggleControl,{label:(0,a.__)("Show Empty Values","meiliscout"),checked:h,onChange:e=>i({showEmptyValues:e}),help:(0,a.__)("Show facet values that have no results","meiliscout")})]})}),(0,s.jsx)("div",{...m,children:r&&d?(0,s.jsx)(c,{type:n,attribute:r,label:o}):(0,s.jsxs)("div",{className:"facet-warning",children:[!r&&(0,s.jsx)("p",{children:(0,a.__)("Please specify a facet attribute in the settings.","meiliscout")}),!d&&(0,s.jsx)("p",{children:(0,a.__)("Please specify a filter type (taxonomy or meta) in the settings.","meiliscout")})]})})]})},save:()=>null})})();